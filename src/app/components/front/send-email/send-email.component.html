<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h2>Email Content</h2>

      <form [formGroup]="emailContentForm" (ngSubmit)="sendEmails()">
          <div class="form-row">
            <div class="form-group col-md-12">
              <label for="subdomaincount">Email Subject</label>
              <input type="text" class="form-control" id="subdomainLevels" formControlName="subject" placeholder="Subject">
            </div>
            <div class="form-group col-md-12">
              <label for="subdomaincount">Email Contect</label>
              <textarea class="form-control" id="domainname" formControlName="emailTemplate" rows="4" cols="50">
              </textarea>
            </div>
          </div>
        <div class="row md-top">
          <div class="col-md-12">
            <h4>Import Senders Emails</h4>
          </div>
          <div class="col-md-12">
            <div class="uploadfilecontainer" (click)="fileInput.click()" appDragDrop (onFileDropped)="uploadFile($event)">
              <input hidden type="file" #fileInput (change)="uploadFile($event.srcElement.files[0])">
            </div>
            <div class="file-list-container">
              <div  class="files-list" *ngFor="let file of senders;let i=index">
                {{ file.login }}
                <img src="../../assets/Recycle_Bin_Full.png" (click)="deleteAttachment(i)">
              </div>
            </div>
          </div>
        </div>
        <div class="row md-top">
          <div class="col-md-12">
            <h4>Import Receivers Emails</h4>
          </div>
          <div class="col-md-12">
            <div class="uploadfilecontainer" (click)="fileInputReceiver.click()" appDragDrop (onFileDropped)="uploadFilereceivers($event)">
              <input hidden type="file" #fileInputReceiver (change)="uploadFilereceivers($event.srcElement.files[0])">
            </div>
            <div class="file-list-container">
              <div  class="files-list" *ngFor="let file of receivers;let i=index">
                {{ file }}
                <img src="../../assets/Recycle_Bin_Full.png" (click)="deleteAttachment(i)">
              </div>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary">Send Emails</button>
    </form>

    </div>
    <div *ngIf="sendFinished" class="col-md-12" style="margin-top:20px; margin-bottom:20px">
      <div class="row" style="color: green">Success: {{sendMailResponses.success}}</div>
      <div class="row" style="color: red">Login Issues: {{sendMailResponses.login}}</div>
      <div class="row" style="color: red">Eula: {{sendMailResponses.eula}}</div>
      <div class="row" style="color: red">Spam: {{sendMailResponses.spam}}</div>
      <div class="row" style="color: red">Unknown Error: {{sendMailResponses.error}}</div>
    </div>
  </div>
</div>
